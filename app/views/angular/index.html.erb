<!DOCTYPE html>
<html ng-app="gemStore">
 <body ng-controller="StoreController" data-ng-init="index()">
    <!--  Store Header  -->
    <header>
      <h1 class="text-center">Flatlander Crafted Gems</h1>
    </header>
    <div data-ng-show="!isLoggedIn()">
      <button data-ng-click="setForm('signUp')" class="btn btn-primary pull-left">Sign Up</button>
      <button data-ng-click="setForm('signIn')" class="btn btn-primary pull-right">Sign In</button>
    </div>
    <div data-ng-show="isLoggedIn()">
      <button data-ng-click="logOut()" class="btn btn-warning center-block">Sign Out</button>
    </div>
    <!--  Products Container  -->
    <div class="list-group">
      <!--  Product Container  -->
      <div data-ng-show="isLoggedIn()">
      <form name="newProductForm">
      <label>Name</label>
      <input type="text" required data-ng-model="product.name">
      <br>
      <label>Description</label>
      <input type="text" data-ng-model="product.description">
      <br>
      <label>Shine</label>
      <input data-ng-model="product.shine">
      <br>
      <label>Price</label>
      <input data-ng-model="product.price">
      <br>
      <label>Rarity</label>
      <input data-ng-model="product.rarity">
      <br>
      <label>Color</label>
      <input data-ng-model="product.color">
      <br>
      <label>Faces</label>
      <input data-ng-model="product.faces">
      <br>
      <label>Image URL</label>
      <input data-ng-model="product.image">
      <button data-ng-disabled="newProductForm.$invalid" data-ng-click="create(product)" class="btn btn-primary">Save New Product</button>
      </form>
      </div>

      <div class="list-group-item" ng-repeat="product in products">
        <h3>{{product.name}} <em class="pull-right">{{product.price | currency}}</em></h3>

        <!-- Image Gallery  -->
        <product-gallery></product-gallery>

        <!-- Product Tabs  -->
        <product-tabs></product-tabs>

        <div data-ng-show="isLoggedIn()">
        <button data-ng-click="product.editing=true" class="btn btn-primary">Edit</button>
        <div data-ng-show="product.editing">
          <label>Name</label>
          <input type="text" required data-ng-model="product.name">
          <br>
          <label>Description</label>
          <input type="text" data-ng-model="product.description">
          <br>
          <label>Shine</label>
          <input data-ng-model="product.shine">
          <br>
          <label>Price</label>
          <input data-ng-model="product.price">
          <br>
          <label>Rarity</label>
          <input data-ng-model="product.rarity">
          <br>
          <label>Color</label>
          <input data-ng-model="product.color">
          <br>
          <label>Faces</label>
          <input data-ng-model="product.faces">
          <br>
          <label>Image URL</label>
          <input data-ng-model="product.image">
          <button data-ng-click="update(product)" class="btn btn-primary">Save</button>
          <button data-ng-click="product.editing = false">Cancel</button>
        </div>

        <button data-ng-click="product.deleteConfirm=true" data-ng-hide="product.deleteConfirm" class="btn btn-primary">Delete</button>
        <div data-ng-show="product.deleteConfirm">
          <button data-ng-click="destroy(product)" class="btn btn-primary">Confirm</button>
          <button data-ng-click="product.deleteConfirm = false" class="btn btn-primary">Cancel</button>
        </div>
        </div>
      </div>
    </div>
  </body>
</html>
